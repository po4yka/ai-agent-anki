# Ralph Configuration for AI Agent Anki
# For autonomous long-running Anki card processing

# === Rate Limiting ===
# Conservative limits to prevent MCP overload and maintain Anki stability
MAX_CALLS_PER_HOUR=50
CALLS_BEFORE_PAUSE=15

# === Timeouts ===
# Longer timeout for batch processing operations
CLAUDE_TIMEOUT_MINUTES=30
IDLE_TIMEOUT_MINUTES=5

# === Session Management ===
# DISABLED: Session continuity causes context window overflow after ~10 batches.
# Each loop starts fresh, reads fix_plan.md for progress, and picks up next batch.
# This prevents "Prompt is too long" API errors.
SESSION_CONTINUITY=false

# === Checkpointing ===
# Enable checkpoints to resume after failures
CHECKPOINT_ENABLED=true
CHECKPOINT_INTERVAL_CALLS=10

# === Tool Allowlist ===
# All Anki MCP tools plus file operations for logging
ALLOWED_TOOLS="mcp__anki__addNote,mcp__anki__findNotes,mcp__anki__notesInfo,mcp__anki__updateNoteFields,mcp__anki__deleteNotes,mcp__anki__deckActions,mcp__anki__modelNames,mcp__anki__sync,mcp__anki__mediaActions,mcp__anki__tagActions,mcp__anki__getTags,Read,Write,Edit,Glob,Grep,Bash,ToolSearch"

# === Logging ===
LOG_LEVEL=info
LOG_DIR=.ralph/logs

# === Completion Signal ===
# Ralph monitors for this to know when task is complete
EXIT_SIGNAL="RALPH_COMPLETE"
